# **NineAI å¼€æºç‰ˆ - é¡¹ç›®éƒ¨ç½²æŒ‡å—**

## **ğŸ“¦ éƒ¨ç½²æ–¹å¼**
æœ¬é¡¹ç›®æä¾› **æ•´åˆåŒ…ï¼ˆYiAiQuickDeployï¼‰** å’Œ **ç¼–è¯‘åŒ…** ä¸¤ç§éƒ¨ç½²æ–¹å¼ï¼Œè¯·æ ¹æ®éœ€æ±‚é€‰æ‹©ã€‚

---

## **ğŸš€ æ•´åˆåŒ…å¿«é€Ÿéƒ¨ç½²ï¼ˆæ¨èï¼‰**
### **ğŸ“Œ ç¯å¢ƒå‡†å¤‡**
| ä¾èµ– | ç‰ˆæœ¬è¦æ±‚ |
|------|----------|
| Node.js | â‰¥ 16 |
| pnpm | â‰¥ 6 |
| MySQL | â‰¥ 5.7 |
| Redis | æœ€æ–°ç‰ˆ |

#### **1. å®‰è£… Node.js**
- å®˜ç½‘ä¸‹è½½ï¼š[Node.js å®˜ç½‘](https://nodejs.org/)
- éªŒè¯å®‰è£…ï¼š
  ```bash
  node -v
  npm -v
  ```

#### **2. å®‰è£… PM2ï¼ˆè¿›ç¨‹ç®¡ç†ï¼‰**
```bash
npm install pm2 -g
```

#### **3. å®‰è£… PNPMï¼ˆåŒ…ç®¡ç†ï¼‰**
```bash
npm install -g pnpm
```

---

### **âš™ï¸ é…ç½®é¡¹ç›®**
#### **1. å¤åˆ¶ç¯å¢ƒå˜é‡æ–‡ä»¶**
```bash
cp .env.example .env
```
- ä¿®æ”¹ `.env` ä¸­çš„æ•°æ®åº“ã€Redis ç­‰é…ç½®ã€‚

#### **2. å®‰è£…ä¾èµ–**
```bash
pnpm install
# è‹¥å®‰è£…å¤±è´¥ï¼Œå¯åˆ‡æ¢å›½å†…æºï¼š
pnpm config set registry https://registry.npmmirror.com
```

---

### **ğŸš€ å¯åŠ¨é¡¹ç›®**
#### **1. è¿è¡ŒæœåŠ¡**
```bash
pnpm start  # é»˜è®¤ç›‘å¬ 9520 ç«¯å£
```

#### **2. è®¿é—®é¡¹ç›®**
- å‰ç«¯åœ°å€ï¼š`http://localhost:9520`
- ç®¡ç†åå°ï¼š`http://localhost:9520/admin`
  - æ™®é€šç®¡ç†å‘˜è´¦å·ï¼š`admin` / `123456`
  - è¶…çº§ç®¡ç†å‘˜è´¦å·ï¼š`super` / `123456`

> âš ï¸ **å®‰å…¨æç¤º**ï¼šé¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹å¯†ç ï¼

---

### **âŒ è§£å†³åˆ·æ–° 404 é—®é¢˜**
Nginx éœ€é…ç½® `try_files` æ”¯æŒå‰ç«¯è·¯ç”±ï¼š
```nginx
location / {
  try_files $uri $uri/ /index.html;
}
```

---

### **ğŸ”„ é¡¹ç›®å‡çº§**
1. æ‹‰å–æœ€æ–°ä»£ç ï¼š
   ```bash
   git pull
   ```
2. å…³é—­æ—§è¿›ç¨‹ï¼š
   ```bash
   pm2 delete nineai
   ```
3. é‡æ–°å®‰è£…ä¾èµ–å¹¶å¯åŠ¨ï¼š
   ```bash
   pnpm install
   pnpm start
   ```

---

## **ğŸ”§ ç¼–è¯‘åŒ…éƒ¨ç½²ï¼ˆæ‰‹åŠ¨æ„å»ºï¼‰**
é€‚ç”¨äºäºŒæ¬¡å¼€å‘æˆ–å®šåˆ¶åŒ–éœ€æ±‚ã€‚

### **1. åç«¯æœåŠ¡éƒ¨ç½²**
è¿›å…¥ `service` ç›®å½•ï¼š
```bash
cd service
cp .env.example .env  # ä¿®æ”¹æ•°æ®åº“é…ç½®
pnpm install
pnpm dev    # è°ƒè¯•æ¨¡å¼ï¼ˆè‡ªåŠ¨å¯¼å…¥æ•°æ®åº“ï¼‰
pnpm build  # ç¼–è¯‘æ‰“åŒ…
```

### **2. å‰ç«¯éƒ¨ç½²**
#### **ç”¨æˆ·ç«¯ï¼ˆChatï¼‰**
è¿›å…¥ `chat` ç›®å½•ï¼š
```bash
cd chat
pnpm install
pnpm build  # ç”Ÿæˆé™æ€æ–‡ä»¶åˆ° `dist` ç›®å½•
```

#### **ç®¡ç†ç«¯ï¼ˆAdminï¼‰**
è¿›å…¥ `admin` ç›®å½•ï¼š
```bash
cd admin
pnpm install
pnpm build  # ç”Ÿæˆé™æ€æ–‡ä»¶åˆ° `dist` ç›®å½•
```

### **3. å¯åŠ¨æœåŠ¡**
å°†ç¼–è¯‘åçš„æ–‡ä»¶éƒ¨ç½²è‡³ Web æœåŠ¡å™¨ï¼ˆå¦‚ Nginxï¼‰ï¼Œæˆ–ä½¿ç”¨ PM2 è¿è¡Œåç«¯ï¼š
```bash
pm2 start dist/main.js --name nineai
```

---

## **ğŸ“¢ æ³¨æ„äº‹é¡¹**
1. **æ•°æ®åº“å¤‡ä»½**ï¼šå‡çº§å‰è¯·å¤‡ä»½ MySQL æ•°æ®ã€‚
2. **ç«¯å£å†²çª**ï¼šè‹¥ 9520 ç«¯å£è¢«å ç”¨ï¼Œä¿®æ”¹ `.env` ä¸­çš„ `APP_PORT`ã€‚
3. **HTTPS é…ç½®**ï¼šç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ Nginx é…ç½® SSL è¯ä¹¦ã€‚

---

## **ğŸ’¬ è·å–å¸®åŠ©**
- **é—®é¢˜åé¦ˆ**ï¼š[æäº¤ Issue](https://github.com/your-repo/issues)
- **äº¤æµç¾¤**ï¼šæ‰«ç æ·»åŠ å¾®ä¿¡  
  ![](https://qr.haydenstudio.hk/console/upload/IMG_0122_9053.png)

**ğŸŒŸ ç¥æ‚¨éƒ¨ç½²é¡ºåˆ©ï¼æ¬¢è¿è´¡çŒ®ä»£ç æˆ–æå‡ºå»ºè®®ï¼** ğŸš€
